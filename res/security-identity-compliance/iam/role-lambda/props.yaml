# Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#cfn-iam-role-assumerolepolicydocument
# Type: object
# Required
assumeRolePolicyDocument:
  Version: 2012-10-17
  Statement:
    - Effect: Allow
      Principal:
        Service: lambda.amazonaws.com
      Action:
        - sts:AssumeRole

# Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#cfn-iam-role-description
# Type: string
# Optional
#description: ''

# Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#cfn-iam-role-managepolicyarns
# Type: list
# Optional
#managedPolicyArns:
#  -

# Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#cfn-iam-role-maxsessionduration
# Type: number
# Optional
#maxSessionDuration: 0

# Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#cfn-iam-role-path
# Type: string
# Optional
#path: ''

# Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#cfn-iam-role-permissionsboundary
# Type: string
# Optional
#permissionsBoundary: ''

# Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#cfn-iam-role-policies
# Type: list
# Optional
policies:
  -
    # Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iam-policy.html#cfn-iam-policies-policydocument
    # Type: object
    # Required
    policyDocument:
      Version: 2012-10-17
      Statement:
        - Effect: Allow
          Action:
            - 'ec2:DescribeInstances'
            - 'ssm:DescribeInstanceInformation'
          Resource: '*'
        - Effect: Allow
          Action:
            - 'ec2:AssociateIamInstanceProfile'
            - 'ec2:RebootInstances'
          Resource: arn:aws:ec2:region:*:instance/*
        - Effect: Allow
          Action:
            - 'iam:PassRole'
          Resource: arn:aws:iam::*:role/*
        - Effect: Allow
          Action:
            - 'logs:CreateLogGroup'
            - 'logs:CreateLogStream'
            - 'logs:PutLogEvents'
          Resource: arn:aws:logs:*:*:log-group:*
        - Effect: Allow
          Action:
            - 's3:DeleteObject'
            - 's3:DeleteObjectVersion'
            - 's3:ListBucketVersions'
            - 's3:PutObject'
          Resource: 
            - arn:aws:s3:::*/*
            - arn:aws:s3:::*
        - Effect: Allow
          Action:
            - 'ssm:SendCommand'
          Resource: 
            - arn:aws:ssm:*::*
            - arn:aws:s3:::*
            - arn:aws:ec2:*:*:instance/*
            - arn:aws:ssm:*:*:managed-instance/*

    # Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iam-policy.html#cfn-iam-policies-policyname
    # Type: string
    # Required
    policyName: 'root'

# Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#cfn-iam-role-rolename
# Type: string
# Optional
#roleName: ''

# Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#cfn-iam-role-tags
# Type: list
# Optional
#tags:
#  -
    # Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html#cfn-resource-tags-key
    # Type: string
    # Required
#    key: ''

    # Documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html#cfn-resource-tags-value
    # Type: string
    # Required
#    value: ''
